(()=>{"use strict";var e={756:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(537),o=n.n(r),a=n(645),i=n.n(a)()(o());i.push([e.id,"* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\nbody {\n  font-family: sans-serif;\n}\n.startingContainer {\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  font-size: 4.2rem;\n}\n#player1Form,\n#player2Form {\n  display: grid;\n  justify-items: center;\n}\n#playerVsPlayer {\n  font-size: 1.5rem;\n  margin: 1rem;\n  border-radius: 5px;\n}\n.container {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  justify-items: center;\n}\n#player1Board,\n#player2Board {\n  display: grid;\n  grid-template: repeat(10, 50px) / repeat(10, 50px);\n  justify-content: center;\n}\n\n.player1Cell,\n.player2Cell {\n  width: 3rem;\n}\n\nbutton:disabled {\n  background-color: rgb(216, 22, 22);\n  color: white;\n  font-size: 1rem;\n  text-align: center;\n  border: 1px solid black;\n  font-weight: bold;\n}\n\ninput:invalid {\n  border: 1px red solid;\n}\n\ninput:valid {\n  border: 1px solid black;\n}\n\ninput {\n  width: 80px;\n}\nlabel,\n#formContainer {\n  display: grid;\n  grid-template-columns: repeat(3, 100px);\n}\nlabel {\n  margin-top: 0.5rem;\n}\n#player1ReadyButton,\n#player2ReadyButton {\n  font-size: 1rem;\n  margin-top: 1rem;\n  padding: 0.5rem;\n}\n","",{version:3,sources:["webpack://./src/styles/main.css"],names:[],mappings:"AAAA;EACE,SAAS;EACT,UAAU;EACV,sBAAsB;AACxB;AACA;EACE,uBAAuB;AACzB;AACA;EACE,aAAa;EACb,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,sBAAsB;EACtB,iBAAiB;AACnB;AACA;;EAEE,aAAa;EACb,qBAAqB;AACvB;AACA;EACE,iBAAiB;EACjB,YAAY;EACZ,kBAAkB;AACpB;AACA;EACE,aAAa;EACb,qCAAqC;EACrC,qBAAqB;AACvB;AACA;;EAEE,aAAa;EACb,kDAAkD;EAClD,uBAAuB;AACzB;;AAEA;;EAEE,WAAW;AACb;;AAEA;EACE,kCAAkC;EAClC,YAAY;EACZ,eAAe;EACf,kBAAkB;EAClB,uBAAuB;EACvB,iBAAiB;AACnB;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,WAAW;AACb;AACA;;EAEE,aAAa;EACb,uCAAuC;AACzC;AACA;EACE,kBAAkB;AACpB;AACA;;EAEE,eAAe;EACf,gBAAgB;EAChB,eAAe;AACjB",sourcesContent:["* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\nbody {\n  font-family: sans-serif;\n}\n.startingContainer {\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  font-size: 4.2rem;\n}\n#player1Form,\n#player2Form {\n  display: grid;\n  justify-items: center;\n}\n#playerVsPlayer {\n  font-size: 1.5rem;\n  margin: 1rem;\n  border-radius: 5px;\n}\n.container {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  justify-items: center;\n}\n#player1Board,\n#player2Board {\n  display: grid;\n  grid-template: repeat(10, 50px) / repeat(10, 50px);\n  justify-content: center;\n}\n\n.player1Cell,\n.player2Cell {\n  width: 3rem;\n}\n\nbutton:disabled {\n  background-color: rgb(216, 22, 22);\n  color: white;\n  font-size: 1rem;\n  text-align: center;\n  border: 1px solid black;\n  font-weight: bold;\n}\n\ninput:invalid {\n  border: 1px red solid;\n}\n\ninput:valid {\n  border: 1px solid black;\n}\n\ninput {\n  width: 80px;\n}\nlabel,\n#formContainer {\n  display: grid;\n  grid-template-columns: repeat(3, 100px);\n}\nlabel {\n  margin-top: 0.5rem;\n}\n#player1ReadyButton,\n#player2ReadyButton {\n  font-size: 1rem;\n  margin-top: 1rem;\n  padding: 0.5rem;\n}\n"],sourceRoot:""}]);const s=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);r&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},537:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],d=a[l]||0,u="".concat(l," ").concat(d);a[l]=d+1;var p=n(u),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(m);else{var A=o(m,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:A,references:1})}i.push(u)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=n(a[i]);t[s].references--}for(var c=r(e,o),l=0;l<a.length;l++){var d=n(a[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}a=c}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{class e{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.name=e,this.turn=t}}const t=new e("Lym",!0),r=new e("Myl",!1);class o{constructor(){this.shipCategory={carrier:{name:"carrier",length:5,numberOfHits:0,sunk:!1},battleship:{name:"battleship",length:4,numberOfHits:0,sunk:!1},cruiser:{name:"cruiser",length:3,numberOfHits:0,sunk:!1},submarine:{name:"submarine",length:3,numberOfHits:0,sunk:!1},destroyer:{name:"destroyer",length:2,numberOfHits:0,sunk:!1}}}hit(e){Object.hasOwn(this.shipCategory,e)&&!0!==this.shipCategory[e].sunk&&(this.shipCategory[e].numberOfHits+=1,this.isSunk(this.shipCategory,e))}isSunk(e,t){e[t].numberOfHits===e[t].length&&(e[t].sunk=!0)}}const a=new o,i=new o;class s{constructor(e,t){this.name=t,this.ship=e,this.board=this.boardMap(),this.shotsFiredCount=0,this.missedAttackCount=0}boardMap(){const e=[];for(let t=0;t<10;t+=1){e[t]=[];for(let n=0;n<10;n+=1)e[t][n]=""}return e}resetBoard(){const e=[];for(let t=0;t<10;t+=1){e[t]=[];for(let n=0;n<10;n+=1)e[t][n]=""}return this.board=e,this.board}placeShip(e,t,n,r,o){if(this.isValidCoordinate(e,t)&&this.isValidShipPlacement(e,t,n,r,o)){for(let a=0;a<n.length;a+=1){let i;if("horizontal"===r?i=this.board[e][t+a]:"vertical"===r&&(i=this.board[e+a][t]),""!==i)return m(),f(n,o),!1;"horizontal"===r?this.board[e][t+a]=n.name:"vertical"===r&&(this.board[e+a][t]=n.name)}return!0}return!1}isValidCoordinate(e,t){const n=this.board.length,r=this.board[0].length;return e>=0&&e<n&&t>=0&&t<r}isValidShipPlacement(e,t,n,r,o){for(let a=0;a<n.length;a+=1)if("horizontal"===r){if(t+a>=this.board[0].length||""!==this.board[e][t+a])return m(),f(n,o),!1}else if("vertical"===r&&(e+a>=this.board.length||""!==this.board[e+a][t]))return m(),f(n,o),!1;return!0}receiveAttack(e,t,n,r){if(Object.values(n.ship.shipCategory).map((e=>e.name)).includes(this.board[e][t])){const o=this.board[e][t];this.board[e][t]="X",r.textContent="X",this.shotsFired(n),this.ship.hit(o)}else this.board[e][t]="O",this.shotsFired(n),r.textContent="O",this.missedAttack(n)}shotsFired(e){return e.shotsFiredCount+=1,e.shotsFiredCount}missedAttack(e){return e.missedAttackCount+=1,e.missedAttackCount}getAccuracy(){const e=this.shotsFiredCount+this.missedAttackCount;return 0===e?0:this.shotsFiredCount/e}checkIfAllShipSunk(e){var t;!0===Object.values(this.ship.shipCategory).map((e=>e.sunk)).every((e=>!0===e))&&(function(){const e=document.querySelectorAll(".player1Buttons"),t=document.querySelectorAll(".player2Buttons");e.forEach((e=>{e.disabled=!0})),t.forEach((e=>{e.disabled=!0}))}(),t=e,function(){const e=document.createElement("div");e.id="winningContainer",document.body.append(e)}(),function(e){document.createElement("p").textContent=`WE HAVE A WINNER! ${e.name} WINS THE GAME`}(t),function(){const e=document.createElement("button");e.textContent="New game",e.id="resetGameButton",e.addEventListener("click",(()=>{location.reload()}))}(),function(){const e=document.getElementById("winningContainer"),t=document.getElementById("resetGameButton");e.append(t)}())}switchPlayer(e,t){e.turn=!e.turn,t.turn=!t.turn}}const c=new s(a,"player1"),l=new s(i,"player2");function d(e,t,n,r,o){e.forEach((e=>{e.addEventListener("click",(a=>{if(r.turn){const i=a.target.getAttribute("data-row"),s=a.target.getAttribute("data-column");n.receiveAttack(i,s,t,e),n.checkIfAllShipSunk(r),t.switchPlayer(r,o),e.disabled=!0,u()}}))}))}function u(){const e=document.querySelectorAll(".player1Buttons"),n=document.querySelectorAll(".player2Buttons");!0===t.turn&&!1===r.turn?d(e,c,l,t,r):!1===t.turn&&!0===r.turn&&d(n,l,c,r,t)}function p(e,t){const n=document.createElement("form");n.id=`player${t}Form`;const r=document.createElement("div");r.id="formContainer";const o=document.createElement("p"),a=document.createElement("p"),i=document.createElement("p");o.textContent="Ship's name",a.textContent="Ship's coordinates",i.textContent="Ship's orientation";const s=document.createElement("label"),c=document.createElement("label"),l=document.createElement("label"),d=document.createElement("label"),u=document.createElement("label"),p=document.createElement("input"),m=document.createElement("input"),y=document.createElement("input"),f=document.createElement("input"),h=document.createElement("input"),b=document.createElement("button"),C=["Carrier","Battleship","Cruiser","Submarine","Destroyer"],E=[s,c,l,d,u],g=[p,m,y,f,h];for(let e=0;e<C.length;e+=1){const r=E[e],o=g[e];r.textContent=C[e],r.for=`player${t}${C[e]}`,r.id=`player${t}${C[e]}Label`,o.id=`player${t}${C[e]}`,o.name=`player${t}${C[e]}`,o.autocomplete="off",n.append(r),r.append(o)}b.textContent="Click to ready",b.id=`player${t}ReadyButton`,b.setAttribute("isReady","false"),e.append(r),e.append(n),r.append(o,a,i),n.append(b),function(e){const t=[`player${e}CarrierLabel`,`player${e}BattleshipLabel`,`player${e}CruiserLabel`,`player${e}SubmarineLabel`,`player${e}DestroyerLabel`],n=["Carrier","Battleship","Cruiser","Submarine","Destroyer"],r=["Horizontal","Vertical"];for(let o=0;o<t.length;o+=1){const a=document.getElementById(t[o]),i=document.createElement("select");i.id=`player${e}${n[o]}Select`;for(const e of r){const t=document.createElement("option");t.text=e,t.value=e.toLowerCase(),i.append(t)}a.append(i)}}(t),document.querySelectorAll("input").forEach((e=>{e.setAttribute("isReady",!1),e.addEventListener("input",(()=>{e.checkValidity(),e.reportValidity(),e.validity.patternMismatch?(e.setAttribute("isReady",!1),e.setCustomValidity("Correct ship cooridnate example: 5,2 | 9,0")):(e.setAttribute("isReady",!0),e.setCustomValidity(""))}))})),b.addEventListener("click",(e=>{var n;e.preventDefault(),"false"===(n=b).getAttribute("isReady")?(n.setAttribute("isReady","true"),n.textContent="Ready"):"true"===n.getAttribute("isReady")&&(n.setAttribute("isReady","false"),n.textContent="Click to ready"),function(e){const t=document.getElementById("player1ReadyButton"),n=document.getElementById("player2ReadyButton"),r="true"===t.getAttribute("isReady"),o="true"===n.getAttribute("isReady");1===e&&r&&o&&A(),2===e&&r&&o&&A()}(t)}))}function m(){const e=document.getElementById("player1ReadyButton"),t=document.getElementById("player2ReadyButton");e.setAttribute("isReady",!1),t.setAttribute("isReady",!1),e.textContent="Not ready",t.textContent="Not ready"}function A(){const e=document.querySelectorAll("input");let t=0;return e.forEach((e=>("true"===e.getAttribute("isReady")&&(t+=1,10===t&&(c.resetBoard(),l.resetBoard(),function(){const e=["Carrier","Battleship","Cruiser","Submarine","Destroyer"],t={},n={};for(const d of e){const e=`player1${d}`,u=`player2${d}`,p=document.getElementById(e).value,m=document.getElementById(u).value;t[d]=p.split(","),n[d]=m.split(",");const A=d.toLowerCase(),f=t[d][0],h=t[d][1],b=a.shipCategory[A],C=n[d][0],E=n[d][1],g=i.shipCategory[A],B=document.getElementById(`player1${d}Select`).value,v=document.getElementById(`player2${d}Select`).value;r=f,o=h,s=b,l=B,c.placeShip(Number(r),Number(o),s,l,"player1"),y(C,E,g,v)}var r,o,s,l}(),function(){const e=c.board,t=l.board,n=["carrier","battleship","cruiser","submarine","destroyer"],r=n.every((t=>e.some((e=>e.includes(t))))),o=n.every((e=>t.some((t=>t.includes(e)))));return!0===r&&!0===o}()&&(document.querySelectorAll("form").forEach((e=>{e.parentNode&&e.parentNode.removeChild(e)})),function(){const e=document.querySelector(".container"),t=document.getElementById("player1BoardForm"),n=document.getElementById("player2BoardForm");e.removeChild(t),e.removeChild(n)}(),function(){const e=document.querySelector(".container"),t=document.createElement("div");t.id="player1Board",e.append(t);const{board:n}=c;for(let e=0;e<n.length;e+=1)for(let r=0;r<n[e].length;r+=1){const n=document.createElement("button");n.dataset.row=e,n.dataset.column=r,n.classList="player1Buttons",t.appendChild(n)}}(),function(){const e=document.querySelector(".container"),t=document.createElement("div");t.id="player2Board",e.append(t);const{board:n}=l;for(let e=0;e<n.length;e+=1)for(let r=0;r<n[e].length;r+=1){const n=document.createElement("button");n.dataset.row=e,n.dataset.column=r,n.classList="player2Buttons",t.appendChild(n)}}(),u()))),!0))),!1}function y(e,t,n,r){l.placeShip(Number(e),Number(t),n,r,"player2")}function f(e,t){const n=e.name[0].toUpperCase()+e.name.slice(1);document.querySelector(`#${t}${n}`).value=""}var h=n(379),b=n.n(h),C=n(795),E=n.n(C),g=n(569),B=n.n(g),v=n(565),x=n.n(v),k=n(216),S=n.n(k),w=n(589),R=n.n(w),I=n(756),q={};q.styleTagTransform=R(),q.setAttributes=x(),q.insert=B().bind(null,"head"),q.domAPI=E(),q.insertStyleElement=S(),b()(I.Z,q),I.Z&&I.Z.locals&&I.Z.locals,document.getElementById("playerVsPlayer").addEventListener("click",(()=>{!function(){const e=document.querySelector(".startingContainer");document.body.removeChild(e)}(),function(){const e=document.createElement("div");e.classList="container",document.body.append(e)}(),function(){const e=document.querySelector(".container"),t=document.createElement("div");t.id="player1BoardForm",e.append(t)}(),function(){const e=document.querySelector(".container"),t=document.createElement("div");t.id="player2BoardForm",e.append(t)}(),function(){const e=document.getElementById("player1BoardForm"),t=document.getElementById("player2BoardForm");p(e,1),p(t,2),document.querySelectorAll("input").forEach((e=>{e.required=!0,e.pattern="[0-9],[0-9]",e.maxLength=3,e.placeholder="row,column"}))}()}))})()})();
//# sourceMappingURL=app.bundle.js.map